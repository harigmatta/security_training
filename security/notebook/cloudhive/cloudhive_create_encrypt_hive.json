{"paragraphs":[{"text":"%md\n# About This Exercise\n**Title:** Create an HDFS encryption zone for Hive. \n**Objectives:** \n            Create HDFS directory for Hive \n            Assign a key for an encryption zone \n            Create the required file system for Hive databases\n**File locations:** none\n**Successful outcome:** Create HDFS encrypted file system for Hive\n**Before you begin:** N/A\n**Related lessons:** Ranger\n\n---","user":"allan_admin","dateUpdated":"2022-04-01T03:58:29-0700","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h1>About This Exercise</h1>\n<p><strong>Title:</strong> Create an HDFS encryption zone for Hive.\n<br  /><strong>Objectives:</strong></p>\n<pre><code>        Create HDFS directory for Hive \n        Assign a key for an encryption zone \n        Create the required file system for Hive databases\n</code></pre>\n<p><strong>File locations:</strong> none\n<br  /><strong>Successful outcome:</strong> Create HDFS encrypted file system for Hive\n<br  /><strong>Before you begin:</strong> N/A\n<br  /><strong>Related lessons:</strong> Ranger</p>\n<hr />\n"}]},"apps":[],"jobName":"paragraph_1648810709852_-927500293","id":"20181126-092644_1457476546","dateCreated":"2022-04-01T03:58:29-0700","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:145"},{"text":"%md\n# Setup","user":"allan_admin","dateUpdated":"2022-04-01T03:58:29-0700","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h1>Setup</h1>\n"}]},"apps":[],"jobName":"paragraph_1648810709866_-1508604525","id":"20181201-044336_178705192","dateCreated":"2022-04-01T03:58:29-0700","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:146"},{"text":"%md\n\n# Exercise","user":"allan_admin","dateUpdated":"2022-04-01T03:58:29-0700","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h1>Exercise</h1>\n"}]},"apps":[],"jobName":"paragraph_1648810709869_-1908941275","id":"20211016-184306_110599744","dateCreated":"2022-04-01T03:58:29-0700","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:147"},{"title":"1 - Verify the list of encryption keys","text":"%sh\n\necho BadPass@1 | su - allan_admin -c \"hadoop key list -metadata\"","user":"allan_admin","dateUpdated":"2022-04-01T04:45:19-0700","config":{"tableHide":false,"editorSetting":{"language":"sh","editOnDblClick":false,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/sh","fontSize":9,"editorHide":false,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Password: Listing keys for KeyProvider: org.apache.hadoop.crypto.key.kms.LoadBalancingKMSClientProvider@7fee8714\nhive-key : cipher: AES/CTR/NoPadding, length: 128, description: , created: Fri Apr 01 04:41:26 PDT 2022, version: 1, attributes: [key.acl.name=hive-key] \n"}]},"apps":[],"jobName":"paragraph_1648810709869_-2132934449","id":"20211016-184338_1701748903","dateCreated":"2022-04-01T03:58:29-0700","dateStarted":"2022-04-01T04:45:19-0700","dateFinished":"2022-04-01T04:45:25-0700","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:148"},{"title":"2 - Create bak directory and move tablespace directory to backup location","text":"%sh\n\necho BadPass@1 | su - allan_admin -c \"hdfs dfs -mkdir /warehouse/bak\" \necho BadPass@1 | su - allan_admin -c \"hdfs dfs -mv /warehouse/tablespace /warehouse/bak/\" \n\necho BadPass@1 | su - allan_admin -c \"hdfs dfs -ls /warehouse/bak/tablespace\" ","user":"allan_admin","dateUpdated":"2022-04-01T04:00:37-0700","config":{"editorSetting":{"language":"sh","editOnDblClick":false,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/sh","fontSize":9,"editorHide":false,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Password: Password: Password: Found 2 items\ndrwxr-xr-x   - hdfs supergroup          0 2022-03-30 08:40 /warehouse/bak/tablespace/external\ndrwxr-xr-x   - hdfs supergroup          0 2022-03-30 08:40 /warehouse/bak/tablespace/managed\n"}]},"apps":[],"jobName":"paragraph_1648810709870_-92127614","id":"20211016-184631_2104056715","dateCreated":"2022-04-01T03:58:29-0700","dateStarted":"2022-04-01T04:00:38-0700","dateFinished":"2022-04-01T04:00:47-0700","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:149"},{"title":"3 - Create a new tablespace directory","text":"%sh\n\necho BadPass@1 | su - allan_admin -c \"hdfs dfs -mkdir /warehouse/tablespace\"\necho BadPass@1 | su - allan_admin -c \"hdfs dfs -chown -R hive:hive /warehouse\"\n\necho BadPass@1 | su - allan_admin -c \"hdfs dfs -ls /warehouse\"","user":"allan_admin","dateUpdated":"2022-04-01T04:45:50-0700","config":{"editorSetting":{"language":"sh","editOnDblClick":false,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/sh","fontSize":9,"editorHide":false,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Password: Password: Password: Found 2 items\ndrwxr-xr-x   - hive hive          0 2022-04-01 04:00 /warehouse/bak\ndrwxr-xr-x   - hive hive          0 2022-04-01 04:45 /warehouse/tablespace\n"}]},"apps":[],"jobName":"paragraph_1648810709870_361494575","id":"20220302-133545_1522853124","dateCreated":"2022-04-01T03:58:29-0700","dateStarted":"2022-04-01T04:45:50-0700","dateFinished":"2022-04-01T04:46:00-0700","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:150"},{"title":"4 - Assign a key to the encryption zone ","text":"%sh\n\necho BadPass@1 | su - allan_admin -c \"hdfs crypto -createZone -keyName hive-key -path /warehouse/tablespace\"\n","user":"allan_admin","dateUpdated":"2022-04-01T04:46:26-0700","config":{"editorSetting":{"language":"sh","editOnDblClick":false,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/sh","fontSize":9,"editorHide":false,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Password: Added encryption zone /warehouse/tablespace\n"}]},"apps":[],"jobName":"paragraph_1648810709871_-517199546","id":"20211016-184920_60711222","dateCreated":"2022-04-01T03:58:29-0700","dateStarted":"2022-04-01T04:46:26-0700","dateFinished":"2022-04-01T04:46:31-0700","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:151"},{"title":"5 - List the Encryption Zones","text":"%sh\n\necho BadPass@1 | su - allan_admin -c \"hdfs crypto -listZones\"","user":"allan_admin","dateUpdated":"2022-04-01T04:46:40-0700","config":{"editorSetting":{"language":"sh","editOnDblClick":false,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/sh","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Password: /warehouse/tablespace  hive-key \n\n"}]},"apps":[],"jobName":"paragraph_1648810709872_63500410","id":"20211016-193130_281608588","dateCreated":"2022-04-01T03:58:29-0700","dateStarted":"2022-04-01T04:46:40-0700","dateFinished":"2022-04-01T04:46:43-0700","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:152"},{"title":"6 - Create supporting directories in the encryption zone","text":"%sh\n\necho BadPass@1 | su - allan_admin -c \"hdfs dfs -mkdir -p /warehouse/tablespace/tmp\"\necho BadPass@1 | su - allan_admin -c \"hdfs dfs -chmod 1777 /warehouse/tablespace/tmp\"\n\necho BadPass@1 | su - allan_admin -c \"hdfs dfs -mkdir -p /warehouse/tablespace/data/clouddev\"\n\necho BadPass@1 | su - allan_admin -c \"hdfs dfs -chown -R hive:hive /warehouse\"\necho BadPass@1 | su - allan_admin -c \"hdfs dfs -ls -R /warehouse/tablespace\"\n","user":"allan_admin","dateUpdated":"2022-04-01T04:47:02-0700","config":{"editorSetting":{"language":"sh","editOnDblClick":false,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/sh","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Password: Password: Password: Password: Password: drwxrwxrwt   - hive hive          0 2022-04-01 04:46 /warehouse/tablespace/.Trash\ndrwxr-xr-x   - hive hive          0 2022-04-01 04:47 /warehouse/tablespace/data\ndrwxr-xr-x   - hive hive          0 2022-04-01 04:47 /warehouse/tablespace/data/clouddev\ndrwxrwxrwt   - hive hive          0 2022-04-01 04:47 /warehouse/tablespace/tmp\n"}]},"apps":[],"jobName":"paragraph_1648810709874_1332705738","id":"20220302-132308_528008491","dateCreated":"2022-04-01T03:58:29-0700","dateStarted":"2022-04-01T04:47:02-0700","dateFinished":"2022-04-01T04:47:18-0700","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:153"},{"text":"%md\n\nIt is a recommended CDP administrative practice to create /warehouse/tablespace/data/clouddev to all for download of raw data. All transactions, such as the writing of data, should be contained within the same encyrption zone as the database directories. This prevents having to use hadoop distcp to move data from one encryption zone to another. The tmp directory will be used for Hive scratch files.","user":"allan_admin","dateUpdated":"2022-04-01T03:58:29-0700","config":{"tableHide":true,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":false,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<p>A recommended CDP administrative practice regarding encryption zones. All transactions, such as the writing in of data or the creation of scratch files, should be contained within the encyrption zone. This is due to the only way to move data from one encryption zone to another is with the use of hadoop distcp.</p>\n"}]},"apps":[],"jobName":"paragraph_1648810709876_2017637361","id":"20220302-132444_213335042","dateCreated":"2022-04-01T03:58:29-0700","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:154"},{"title":"7 - Copy old Hive directory into new Hive encryption zone ","text":"%sh\n\necho BadPass@1 | su - allan_admin -c \"hadoop distcp -skipcrccheck -update /warehouse/bak/tablespace/ /warehouse/tablespace\"\n\n","user":"allan_admin","dateUpdated":"2022-04-01T04:47:28-0700","config":{"editorSetting":{"language":"sh","editOnDblClick":false,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/sh","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Password: 22/04/01 04:47:31 INFO tools.DistCp: Input Options: DistCpOptions{atomicCommit=false, syncFolder=true, deleteMissing=false, ignoreFailures=false, overwrite=false, append=false, useDiff=false, useRdiff=false, fromSnapshot=null, toSnapshot=null, skipCRC=true, blocking=true, numListstatusThreads=0, maxMaps=20, mapBandwidth=0.0, copyStrategy='uniformsize', preserveStatus=[], atomicWorkPath=null, logPath=null, sourceFileListing=null, sourcePaths=[/warehouse/bak/tablespace], targetPath=/warehouse/tablespace, filtersFile='null', blocksPerChunk=0, copyBufferSize=8192, verboseLog=false, directWrite=false}, sourcePaths=[/warehouse/bak/tablespace], targetPathExists=true, preserveRawXattrsfalse\n22/04/01 04:47:31 INFO client.RMProxy: Connecting to ResourceManager at master-1.example.com/10.0.0.101:8032\n22/04/01 04:47:32 INFO hdfs.DFSClient: Created token for allan_admin: HDFS_DELEGATION_TOKEN owner=allan_admin@EXAMPLE.COM, renewer=yarn, realUser=, issueDate=1648813652073, maxDate=1649418452073, sequenceNumber=31, masterKeyId=14 on ha-hdfs:my-name-service\n22/04/01 04:47:32 INFO kms.KMSClientProvider: New token created: (Kind: kms-dt, Service: kms://https@kms-2.example.com:9494/kms, Ident: (kms-dt owner=allan_admin, renewer=yarn, realUser=, issueDate=1648813652624, maxDate=1649418452624, sequenceNumber=20, masterKeyId=12))\n22/04/01 04:47:32 INFO security.TokenCache: Got dt for hdfs://my-name-service; Kind: HDFS_DELEGATION_TOKEN, Service: ha-hdfs:my-name-service, Ident: (token for allan_admin: HDFS_DELEGATION_TOKEN owner=allan_admin@EXAMPLE.COM, renewer=yarn, realUser=, issueDate=1648813652073, maxDate=1649418452073, sequenceNumber=31, masterKeyId=14)\n22/04/01 04:47:32 INFO security.TokenCache: Got dt for hdfs://my-name-service; Kind: kms-dt, Service: kms://https@kms-1.example.com;kms-2.example.com:9494/kms, Ident: (kms-dt owner=allan_admin, renewer=yarn, realUser=, issueDate=1648813652624, maxDate=1649418452624, sequenceNumber=20, masterKeyId=12)\n22/04/01 04:47:33 INFO tools.SimpleCopyListing: Paths (files+dirs) cnt = 83; dirCnt = 66\n22/04/01 04:47:33 INFO tools.SimpleCopyListing: Build file listing completed.\n22/04/01 04:47:33 INFO Configuration.deprecation: io.sort.mb is deprecated. Instead, use mapreduce.task.io.sort.mb\n22/04/01 04:47:33 INFO Configuration.deprecation: io.sort.factor is deprecated. Instead, use mapreduce.task.io.sort.factor\n22/04/01 04:47:33 INFO tools.DistCp: Number of paths in the copy list: 83\n22/04/01 04:47:34 INFO tools.DistCp: Number of paths in the copy list: 83\n22/04/01 04:47:34 INFO client.RMProxy: Connecting to ResourceManager at master-1.example.com/10.0.0.101:8032\n22/04/01 04:47:34 INFO mapreduce.JobResourceUploader: Disabling Erasure Coding for path: /user/allan_admin/.staging/job_1648760175582_0009\n22/04/01 04:47:34 INFO mapreduce.JobSubmitter: number of splits:12\n22/04/01 04:47:34 INFO mapreduce.JobSubmitter: Submitting tokens for job: job_1648760175582_0009\n22/04/01 04:47:34 INFO mapreduce.JobSubmitter: Executing with tokens: [Kind: HDFS_DELEGATION_TOKEN, Service: ha-hdfs:my-name-service, Ident: (token for allan_admin: HDFS_DELEGATION_TOKEN owner=allan_admin@EXAMPLE.COM, renewer=yarn, realUser=, issueDate=1648813652073, maxDate=1649418452073, sequenceNumber=31, masterKeyId=14), Kind: kms-dt, Service: kms://https@kms-1.example.com;kms-2.example.com:9494/kms, Ident: (kms-dt owner=allan_admin, renewer=yarn, realUser=, issueDate=1648813652624, maxDate=1649418452624, sequenceNumber=20, masterKeyId=12)]\n22/04/01 04:47:35 INFO conf.Configuration: resource-types.xml not found\n22/04/01 04:47:35 INFO resource.ResourceUtils: Unable to find 'resource-types.xml'.\n22/04/01 04:47:35 INFO impl.YarnClientImpl: Submitted application application_1648760175582_0009\n22/04/01 04:47:35 INFO mapreduce.Job: The url to track the job: https://master-1.example.com:8090/proxy/application_1648760175582_0009/\n22/04/01 04:47:35 INFO tools.DistCp: DistCp job-id: job_1648760175582_0009\n22/04/01 04:47:35 INFO mapreduce.Job: Running job: job_1648760175582_0009\n22/04/01 04:47:46 INFO mapreduce.Job: Job job_1648760175582_0009 running in uber mode : false\n22/04/01 04:47:46 INFO mapreduce.Job:  map 0% reduce 0%\n22/04/01 04:47:59 INFO mapreduce.Job:  map 8% reduce 0%\n22/04/01 04:48:04 INFO mapreduce.Job:  map 17% reduce 0%\n22/04/01 04:48:05 INFO mapreduce.Job:  map 50% reduce 0%\n22/04/01 04:48:11 INFO mapreduce.Job:  map 58% reduce 0%\n22/04/01 04:48:14 INFO mapreduce.Job:  map 67% reduce 0%\n22/04/01 04:48:15 INFO mapreduce.Job:  map 83% reduce 0%\n22/04/01 04:48:16 INFO mapreduce.Job:  map 92% reduce 0%\n22/04/01 04:48:18 INFO mapreduce.Job:  map 100% reduce 0%\n22/04/01 04:48:19 INFO mapreduce.Job: Job job_1648760175582_0009 completed successfully\n22/04/01 04:48:20 INFO mapreduce.Job: Counters: 38\n\tFile System Counters\n\t\tFILE: Number of bytes read=0\n\t\tFILE: Number of bytes written=3053366\n\t\tFILE: Number of read operations=0\n\t\tFILE: Number of large read operations=0\n\t\tFILE: Number of write operations=0\n\t\tHDFS: Number of bytes read=1008897\n\t\tHDFS: Number of bytes written=983491\n\t\tHDFS: Number of read operations=325\n\t\tHDFS: Number of large read operations=0\n\t\tHDFS: Number of write operations=145\n\t\tHDFS: Number of bytes read erasure-coded=0\n\tJob Counters \n\t\tLaunched map tasks=12\n\t\tOther local map tasks=12\n\t\tTotal time spent by all maps in occupied slots (ms)=132712\n\t\tTotal time spent by all reduces in occupied slots (ms)=0\n\t\tTotal time spent by all map tasks (ms)=132712\n\t\tTotal vcore-milliseconds taken by all map tasks=132712\n\t\tTotal megabyte-milliseconds taken by all map tasks=543588352\n\tMap-Reduce Framework\n\t\tMap input records=83\n\t\tMap output records=0\n\t\tInput split bytes=1464\n\t\tSpilled Records=0\n\t\tFailed Shuffles=0\n\t\tMerged Map outputs=0\n\t\tGC time elapsed (ms)=3329\n\t\tCPU time spent (ms)=35750\n\t\tPhysical memory (bytes) snapshot=3154444288\n\t\tVirtual memory (bytes) snapshot=44760928256\n\t\tTotal committed heap usage (bytes)=3007315968\n\t\tPeak Map Physical memory (bytes)=283901952\n\t\tPeak Map Virtual memory (bytes)=3744669696\n\tFile Input Format Counters \n\t\tBytes Read=23942\n\tFile Output Format Counters \n\t\tBytes Written=0\n\tDistCp Counters\n\t\tBandwidth in Btyes=674159\n\t\tBytes Copied=983491\n\t\tBytes Expected=983491\n\t\tFiles Copied=17\n\t\tDIR_COPY=66\n"}]},"apps":[],"jobName":"paragraph_1648810709879_657188014","id":"20211016-193527_2022456863","dateCreated":"2022-04-01T03:58:29-0700","dateStarted":"2022-04-01T04:47:28-0700","dateFinished":"2022-04-01T04:48:20-0700","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:155"},{"text":"%md\n\nDisregard if you receive a SIGTERM from Zeppelin the job did complete successfully. You can check the job in the YARN Resource Manager Web UI.\n","user":"allan_admin","dateUpdated":"2022-04-01T03:58:29-0700","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<p>Disregard if you receive a SIGTERM from Zeppelin the job did complete successfully. You can check the job in the YARN Resource Manager Web UI.</p>\n"}]},"apps":[],"jobName":"paragraph_1648810709881_-1270545255","id":"20220302-135731_1546303268","dateCreated":"2022-04-01T03:58:29-0700","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:156"},{"title":"7 - Change ownership","text":"%sh\n\necho BadPass@1 | su - allan_admin -c \"hdfs dfs -chown -R hive:hive /warehouse/tablespace\"\n\necho BadPass@1 | su - allan_admin -c \"hdfs dfs -ls -R /warehouse/tablespace\"","user":"allan_admin","dateUpdated":"2022-04-01T04:48:28-0700","config":{"editorSetting":{"language":"sh","editOnDblClick":false,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/sh","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Password: Password: drwxrwxrwt   - hive hive          0 2022-04-01 04:46 /warehouse/tablespace/.Trash\ndrwxr-xr-x   - hive hive          0 2022-04-01 04:47 /warehouse/tablespace/data\ndrwxr-xr-x   - hive hive          0 2022-04-01 04:47 /warehouse/tablespace/data/clouddev\ndrwxr-xr-x   - hive hive          0 2022-04-01 04:47 /warehouse/tablespace/external\ndrwxr-xr-x   - hive hive          0 2022-04-01 04:48 /warehouse/tablespace/external/hive\ndrwxr-xr-x   - hive hive          0 2022-04-01 04:48 /warehouse/tablespace/external/hive/information_schema.db\ndrwxr-xr-x   - hive hive          0 2022-04-01 04:48 /warehouse/tablespace/external/hive/sys.db\ndrwxr-xr-x   - hive hive          0 2022-04-01 04:47 /warehouse/tablespace/external/hive/sys.db/BUCKETING_COLS\ndrwxr-xr-x   - hive hive          0 2022-04-01 04:48 /warehouse/tablespace/external/hive/sys.db/CDS\ndrwxr-xr-x   - hive hive          0 2022-04-01 04:48 /warehouse/tablespace/external/hive/sys.db/COLUMNS_V2\ndrwxr-xr-x   - hive hive          0 2022-04-01 04:48 /warehouse/tablespace/external/hive/sys.db/COMPACTION_QUEUE\ndrwxr-xr-x   - hive hive          0 2022-04-01 04:48 /warehouse/tablespace/external/hive/sys.db/COMPLETED_COMPACTIONS\ndrwxr-xr-x   - hive hive          0 2022-04-01 04:47 /warehouse/tablespace/external/hive/sys.db/DATABASE_PARAMS\ndrwxr-xr-x   - hive hive          0 2022-04-01 04:48 /warehouse/tablespace/external/hive/sys.db/DBS\ndrwxr-xr-x   - hive hive          0 2022-04-01 04:47 /warehouse/tablespace/external/hive/sys.db/DB_PRIVS\ndrwxr-xr-x   - hive hive          0 2022-04-01 04:47 /warehouse/tablespace/external/hive/sys.db/DB_VERSION\ndrwxr-xr-x   - hive hive          0 2022-04-01 04:48 /warehouse/tablespace/external/hive/sys.db/FUNCS\ndrwxr-xr-x   - hive hive          0 2022-04-01 04:47 /warehouse/tablespace/external/hive/sys.db/GLOBAL_PRIVS\ndrwxr-xr-x   - hive hive          0 2022-04-01 04:47 /warehouse/tablespace/external/hive/sys.db/KEY_CONSTRAINTS\ndrwxr-xr-x   - hive hive          0 2022-04-01 04:47 /warehouse/tablespace/external/hive/sys.db/MV_CREATION_METADATA\ndrwxr-xr-x   - hive hive          0 2022-04-01 04:48 /warehouse/tablespace/external/hive/sys.db/MV_TABLES_USED\ndrwxr-xr-x   - hive hive          0 2022-04-01 04:47 /warehouse/tablespace/external/hive/sys.db/PARTITIONS\ndrwxr-xr-x   - hive hive          0 2022-04-01 04:47 /warehouse/tablespace/external/hive/sys.db/PARTITION_KEYS\ndrwxr-xr-x   - hive hive          0 2022-04-01 04:47 /warehouse/tablespace/external/hive/sys.db/PARTITION_KEY_VALS\ndrwxr-xr-x   - hive hive          0 2022-04-01 04:48 /warehouse/tablespace/external/hive/sys.db/PARTITION_PARAMS\ndrwxr-xr-x   - hive hive          0 2022-04-01 04:48 /warehouse/tablespace/external/hive/sys.db/PART_COL_PRIVS\ndrwxr-xr-x   - hive hive          0 2022-04-01 04:48 /warehouse/tablespace/external/hive/sys.db/PART_COL_STATS\ndrwxr-xr-x   - hive hive          0 2022-04-01 04:48 /warehouse/tablespace/external/hive/sys.db/PART_PRIVS\ndrwxr-xr-x   - hive hive          0 2022-04-01 04:48 /warehouse/tablespace/external/hive/sys.db/REPLICATION_METRICS\ndrwxr-xr-x   - hive hive          0 2022-04-01 04:48 /warehouse/tablespace/external/hive/sys.db/ROLES\ndrwxr-xr-x   - hive hive          0 2022-04-01 04:48 /warehouse/tablespace/external/hive/sys.db/ROLE_MAP\ndrwxr-xr-x   - hive hive          0 2022-04-01 04:48 /warehouse/tablespace/external/hive/sys.db/SCHEDULED_EXECUTIONS\ndrwxr-xr-x   - hive hive          0 2022-04-01 04:48 /warehouse/tablespace/external/hive/sys.db/SCHEDULED_QUERIES\ndrwxr-xr-x   - hive hive          0 2022-04-01 04:47 /warehouse/tablespace/external/hive/sys.db/SDS\ndrwxr-xr-x   - hive hive          0 2022-04-01 04:47 /warehouse/tablespace/external/hive/sys.db/SD_PARAMS\ndrwxr-xr-x   - hive hive          0 2022-04-01 04:47 /warehouse/tablespace/external/hive/sys.db/SEQUENCE_TABLE\ndrwxr-xr-x   - hive hive          0 2022-04-01 04:48 /warehouse/tablespace/external/hive/sys.db/SERDES\ndrwxr-xr-x   - hive hive          0 2022-04-01 04:47 /warehouse/tablespace/external/hive/sys.db/SERDE_PARAMS\ndrwxr-xr-x   - hive hive          0 2022-04-01 04:48 /warehouse/tablespace/external/hive/sys.db/SKEWED_COL_NAMES\ndrwxr-xr-x   - hive hive          0 2022-04-01 04:47 /warehouse/tablespace/external/hive/sys.db/SKEWED_COL_VALUE_LOC_MAP\ndrwxr-xr-x   - hive hive          0 2022-04-01 04:48 /warehouse/tablespace/external/hive/sys.db/SKEWED_STRING_LIST\ndrwxr-xr-x   - hive hive          0 2022-04-01 04:48 /warehouse/tablespace/external/hive/sys.db/SKEWED_STRING_LIST_VALUES\ndrwxr-xr-x   - hive hive          0 2022-04-01 04:48 /warehouse/tablespace/external/hive/sys.db/SKEWED_VALUES\ndrwxr-xr-x   - hive hive          0 2022-04-01 04:48 /warehouse/tablespace/external/hive/sys.db/SORT_COLS\ndrwxr-xr-x   - hive hive          0 2022-04-01 04:48 /warehouse/tablespace/external/hive/sys.db/TABLE_PARAMS\ndrwxr-xr-x   - hive hive          0 2022-04-01 04:48 /warehouse/tablespace/external/hive/sys.db/TAB_COL_STATS\ndrwxr-xr-x   - hive hive          0 2022-04-01 04:47 /warehouse/tablespace/external/hive/sys.db/TBLS\ndrwxr-xr-x   - hive hive          0 2022-04-01 04:47 /warehouse/tablespace/external/hive/sys.db/TBL_COL_PRIVS\ndrwxr-xr-x   - hive hive          0 2022-04-01 04:48 /warehouse/tablespace/external/hive/sys.db/TBL_PRIVS\ndrwxr-xr-x   - hive hive          0 2022-04-01 04:47 /warehouse/tablespace/external/hive/sys.db/WM_MAPPINGS\ndrwxr-xr-x   - hive hive          0 2022-04-01 04:48 /warehouse/tablespace/external/hive/sys.db/WM_POOLS\ndrwxr-xr-x   - hive hive          0 2022-04-01 04:47 /warehouse/tablespace/external/hive/sys.db/WM_POOLS_TO_TRIGGERS\ndrwxr-xr-x   - hive hive          0 2022-04-01 04:47 /warehouse/tablespace/external/hive/sys.db/WM_RESOURCEPLANS\ndrwxr-xr-x   - hive hive          0 2022-04-01 04:47 /warehouse/tablespace/external/hive/sys.db/WM_TRIGGERS\ndrwxr-xr-x   - hive hive          0 2022-04-01 04:47 /warehouse/tablespace/managed\ndrwxr-xr-x   - hive hive          0 2022-04-01 04:47 /warehouse/tablespace/managed/hive\ndrwxr-xr-x   - hive hive          0 2022-04-01 04:48 /warehouse/tablespace/managed/hive/sys.db\ndrwxr-xr-x   - hive hive          0 2022-04-01 04:48 /warehouse/tablespace/managed/hive/sys.db/app_data\ndrwxr-xr-x   - hive hive          0 2022-04-01 04:48 /warehouse/tablespace/managed/hive/sys.db/app_data/date=2022-03-30\n-rw-r--r--   3 hive hive      33175 2022-04-01 04:48 /warehouse/tablespace/managed/hive/sys.db/app_data/date=2022-03-30/appattempt_1648654705864_0001_000001\n-rw-r--r--   3 hive hive      33277 2022-04-01 04:48 /warehouse/tablespace/managed/hive/sys.db/app_data/date=2022-03-30/appattempt_1648654705864_0002_000001\ndrwxr-xr-x   - hive hive          0 2022-04-01 04:48 /warehouse/tablespace/managed/hive/sys.db/app_data/date=2022-03-31\n-rw-r--r--   3 hive hive      33248 2022-04-01 04:48 /warehouse/tablespace/managed/hive/sys.db/app_data/date=2022-03-31/appattempt_1648687095746_0001_000001\n-rw-r--r--   3 hive hive      33267 2022-04-01 04:48 /warehouse/tablespace/managed/hive/sys.db/app_data/date=2022-03-31/appattempt_1648688411090_0001_000001\n-rw-r--r--   3 hive hive      33341 2022-04-01 04:47 /warehouse/tablespace/managed/hive/sys.db/app_data/date=2022-03-31/appattempt_1648721710682_0001_000001\n-rw-r--r--   3 hive hive      33451 2022-04-01 04:48 /warehouse/tablespace/managed/hive/sys.db/app_data/date=2022-03-31/appattempt_1648721710682_0002_000001\n-rw-r--r--   3 hive hive      33426 2022-04-01 04:48 /warehouse/tablespace/managed/hive/sys.db/app_data/date=2022-03-31/appattempt_1648730931059_0001_000001\n-rw-r--r--   3 hive hive      33457 2022-04-01 04:48 /warehouse/tablespace/managed/hive/sys.db/app_data/date=2022-03-31/appattempt_1648735577009_0001_000001\n-rw-r--r--   3 hive hive      33456 2022-04-01 04:48 /warehouse/tablespace/managed/hive/sys.db/app_data/date=2022-03-31/appattempt_1648758395098_0001_000001\n-rw-r--r--   3 hive hive      33498 2022-04-01 04:48 /warehouse/tablespace/managed/hive/sys.db/app_data/date=2022-03-31/appattempt_1648760175582_0001_000001\ndrwxr-xr-x   - hive hive          0 2022-04-01 04:48 /warehouse/tablespace/managed/hive/sys.db/dag_data\ndrwxr-xr-x   - hive hive          0 2022-04-01 04:48 /warehouse/tablespace/managed/hive/sys.db/dag_data/date=2022-03-30\n-rw-r--r--   3 hive hive      10663 2022-04-01 04:48 /warehouse/tablespace/managed/hive/sys.db/dag_data/date=2022-03-30/dag_1648654705864_0002_1_1\ndrwxr-xr-x   - hive hive          0 2022-04-01 04:48 /warehouse/tablespace/managed/hive/sys.db/dag_data/date=2022-03-31\n-rw-r--r--   3 hive hive      10634 2022-04-01 04:48 /warehouse/tablespace/managed/hive/sys.db/dag_data/date=2022-03-31/dag_1648721710682_0002_1_1\ndrwxr-xr-x   - hive hive          0 2022-04-01 04:47 /warehouse/tablespace/managed/hive/sys.db/dag_meta\ndrwxr-xr-x   - hive hive          0 2022-04-01 04:48 /warehouse/tablespace/managed/hive/sys.db/dag_meta/date=2022-03-30\n-rw-r--r--   3 hive hive        356 2022-04-01 04:48 /warehouse/tablespace/managed/hive/sys.db/dag_meta/date=2022-03-30/appattempt_1648654705864_0002_000001\ndrwxr-xr-x   - hive hive          0 2022-04-01 04:47 /warehouse/tablespace/managed/hive/sys.db/dag_meta/date=2022-03-31\n-rw-r--r--   3 hive hive        356 2022-04-01 04:47 /warehouse/tablespace/managed/hive/sys.db/dag_meta/date=2022-03-31/appattempt_1648721710682_0002_000001\ndrwxr-xr-x   - hive hive          0 2022-04-01 04:48 /warehouse/tablespace/managed/hive/sys.db/query_data\ndrwxr-xr-x   - hive hive          0 2022-04-01 04:48 /warehouse/tablespace/managed/hive/sys.db/query_data/date=2022-03-30\n-rw-r--r--   3 hive hive     351878 2022-04-01 04:48 /warehouse/tablespace/managed/hive/sys.db/query_data/date=2022-03-30/hive_3c705db6-461b-4088-b144-cbaf5c8a2008_1\ndrwxr-xr-x   - hive hive          0 2022-04-01 04:48 /warehouse/tablespace/managed/hive/sys.db/query_data/date=2022-03-31\n-rw-r--r--   3 hive hive     275843 2022-04-01 04:48 /warehouse/tablespace/managed/hive/sys.db/query_data/date=2022-03-31/hive_2db5cf3a-a2b1-4b46-a17a-58f98c5df913_1\n-rw-r--r--   3 hive hive        165 2022-04-01 04:48 /warehouse/tablespace/managed/hive/sys.db/query_data/date=2022-03-31/hive_3c705db6-461b-4088-b144-cbaf5c8a2008_1\ndrwxrwxrwt   - hive hive          0 2022-04-01 04:47 /warehouse/tablespace/tmp\n"}]},"apps":[],"jobName":"paragraph_1648810709881_1431428137","id":"20220302-132914_1918404455","dateCreated":"2022-04-01T03:58:29-0700","dateStarted":"2022-04-01T04:48:28-0700","dateFinished":"2022-04-01T04:48:36-0700","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:157"},{"title":"8 - Restart hive and hive_on_tez","text":"%md\n\nReturn to Cloudera Manager and start hive and hive_on_tez. After a successful restart return to the notebook to test Hive.\n\n","user":"allan_admin","dateUpdated":"2022-04-01T04:12:10-0700","config":{"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1648810709883_1018280071","id":"20220321-185942_1225537070","dateCreated":"2022-04-01T03:58:29-0700","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:158"},{"title":"9 - Create Hive table","text":"%jdbc(hive)\n\nDROP TABLE IF EXISTS allan_test;\nCREATE TABLE allan_test(\n    id INT,\n    fname STRING,\n    lname STRING,\n    username STRING);\n","user":"allan_admin","dateUpdated":"2022-04-01T05:04:42-0700","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"title":true,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"database_name":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"ERROR","msg":[{"type":"TEXT","data":"java.sql.SQLException: Could not open client transport with JDBC Uri: jdbc:hive2://master-2.example.com:10000/default;ssl=true;sslTrustStore=/var/lib/cloudera-scm-agent/agent-cert/cm-auto-in_cluster_truststore.jks;principal=hive/_HOST@EXAMPLE.COM;hive.server2.proxy.user=allan_admin;: Could not connect to master-2.example.com on port 10000\n\tat org.apache.hive.jdbc.HiveConnection.<init>(HiveConnection.java:349)\n\tat org.apache.hive.jdbc.HiveDriver.connect(HiveDriver.java:107)\n\tat java.sql.DriverManager.getConnection(DriverManager.java:664)\n\tat java.sql.DriverManager.getConnection(DriverManager.java:208)\n\tat org.apache.commons.dbcp2.DriverManagerConnectionFactory.createConnection(DriverManagerConnectionFactory.java:79)\n\tat org.apache.commons.dbcp2.PoolableConnectionFactory.makeObject(PoolableConnectionFactory.java:205)\n\tat org.apache.commons.pool2.impl.GenericObjectPool.create(GenericObjectPool.java:861)\n\tat org.apache.commons.pool2.impl.GenericObjectPool.borrowObject(GenericObjectPool.java:435)\n\tat org.apache.commons.pool2.impl.GenericObjectPool.borrowObject(GenericObjectPool.java:363)\n\tat org.apache.commons.dbcp2.PoolingDriver.connect(PoolingDriver.java:129)\n\tat java.sql.DriverManager.getConnection(DriverManager.java:664)\n\tat java.sql.DriverManager.getConnection(DriverManager.java:270)\n\tat org.apache.zeppelin.jdbc.JDBCInterpreter.getConnectionFromPool(JDBCInterpreter.java:425)\n\tat org.apache.zeppelin.jdbc.JDBCInterpreter.getConnection(JDBCInterpreter.java:458)\n\tat org.apache.zeppelin.jdbc.JDBCInterpreter.executeSql(JDBCInterpreter.java:692)\n\tat org.apache.zeppelin.jdbc.JDBCInterpreter.interpret(JDBCInterpreter.java:820)\n\tat org.apache.zeppelin.interpreter.LazyOpenInterpreter.interpret(LazyOpenInterpreter.java:103)\n\tat org.apache.zeppelin.interpreter.remote.RemoteInterpreterServer$InterpretJob.jobRun(RemoteInterpreterServer.java:632)\n\tat org.apache.zeppelin.scheduler.Job.run(Job.java:188)\n\tat org.apache.zeppelin.scheduler.ParallelScheduler$JobRunner.run(ParallelScheduler.java:162)\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n\tat java.lang.Thread.run(Thread.java:748)\nCaused by: org.apache.thrift.transport.TTransportException: Could not connect to master-2.example.com on port 10000\n\tat org.apache.thrift.transport.TSSLTransportFactory.createClient(TSSLTransportFactory.java:279)\n\tat org.apache.thrift.transport.TSSLTransportFactory.getClientSocket(TSSLTransportFactory.java:179)\n\tat org.apache.hadoop.hive.common.auth.HiveAuthUtils.getSSLSocket(HiveAuthUtils.java:76)\n\tat org.apache.hive.jdbc.HiveConnection.createUnderlyingTransport(HiveConnection.java:668)\n\tat org.apache.hive.jdbc.HiveConnection.createBinaryTransport(HiveConnection.java:693)\n\tat org.apache.hive.jdbc.HiveConnection.openTransport(HiveConnection.java:439)\n\tat org.apache.hive.jdbc.HiveConnection.<init>(HiveConnection.java:317)\n\t... 26 more\nCaused by: java.net.ConnectException: Connection refused (Connection refused)\n\tat java.net.PlainSocketImpl.socketConnect(Native Method)\n\tat java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)\n\tat java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)\n\tat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)\n\tat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\n\tat java.net.Socket.connect(Socket.java:607)\n\tat sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:666)\n\tat sun.security.ssl.SSLSocketImpl.<init>(SSLSocketImpl.java:426)\n\tat sun.security.ssl.SSLSocketFactoryImpl.createSocket(SSLSocketFactoryImpl.java:88)\n\tat org.apache.thrift.transport.TSSLTransportFactory.createClient(TSSLTransportFactory.java:275)\n\t... 32 more\n"}]},"apps":[],"jobName":"paragraph_1648810709883_-1746326722","id":"20220307-151816_2101866777","dateCreated":"2022-04-01T03:58:29-0700","dateStarted":"2022-04-01T04:12:13-0700","dateFinished":"2022-04-01T04:12:18-0700","status":"ERROR","progressUpdateIntervalMs":500,"$$hashKey":"object:159"},{"title":"10 - Insert data in Hive table","text":"%jdbc(hive)\n\n\nINSERT INTO TABLE allan_test\n    VALUES (3,'Joe','Anderson','janderson'),(5,'Sara','Garcia','sgarcia'),(7,'Molly','Cooper','mcooper');\n","user":"allan_admin","dateUpdated":"2022-04-01T05:05:19-0700","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Query executed successfully. Affected rows : 3"}]},"apps":[],"jobName":"paragraph_1648810709884_436621104","id":"20220307-152021_1096032060","dateCreated":"2022-04-01T03:58:29-0700","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:160"},{"title":"11 - Select data","text":"%jdbc(hive)\n\nSELECT * FROM allan_test;\n","user":"allan_admin","dateUpdated":"2022-04-01T05:05:31-0700","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"title":true,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"test.id":"string","test.fname":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"test.id\ttest.fname\n3\tJoe\n5\tSara\n7\tMolly\n"}]},"apps":[],"jobName":"paragraph_1648810709885_-1398540018","id":"20220307-161127_1981864783","dateCreated":"2022-04-01T03:58:29-0700","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:161"},{"title":"12 - Drop the test table","text":"%jdbc(hive)\n\nDROP TABLE IF EXISTS allan_test;\n","user":"allan_admin","dateUpdated":"2022-04-01T05:05:48-0700","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Query executed successfully. Affected rows : 0"}]},"apps":[],"jobName":"paragraph_1648810709885_260446261","id":"20220307-161222_15363330","dateCreated":"2022-04-01T03:58:29-0700","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:162"},{"text":"%md\n\n# Reset\n","user":"allan_admin","dateUpdated":"2022-04-01T03:58:29-0700","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h1>Reset</h1>\n"}]},"apps":[],"jobName":"paragraph_1648810709886_-1249860575","id":"20210503-201327_1691139602","dateCreated":"2022-04-01T03:58:29-0700","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:163"},{"text":"%md\n\nStop hive and hive_on_tez","user":"allan_admin","dateUpdated":"2022-04-01T05:00:50-0700","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"editorMode":"ace/mode/markdown","title":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1648814413840_-1144024492","id":"20220401-050013_1804638315","dateCreated":"2022-04-01T05:00:13-0700","status":"READY","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:1187","title":"A - Stop hive and hive_on_tez"},{"title":"B - Delete the encryption zone.","text":"%sh\n\necho BadPass@1 | su - allan_admin -c \"hdfs dfs -rm -r -skipTrash /warehouse/tablespace\"\n\n","user":"allan_admin","dateUpdated":"2022-04-01T05:01:01-0700","config":{"editorSetting":{"language":"sh","editOnDblClick":false,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/sh","fontSize":9,"editorHide":false,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Password: Deleted /warehouse/tablespace\n"}]},"apps":[],"jobName":"paragraph_1648810709887_1263863902","id":"20210503-201344_78143625","dateCreated":"2022-04-01T03:58:29-0700","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:164"},{"title":"C - Copy in the original tablespace directory.","text":"%sh\n\necho BadPass@1 | su - allan_admin -c \"hdfs dfs -cp /warehouse/bak/tablespace /warehouse\"\necho BadPass@1 | su - allan_admin -c \"hdfs dfs -chown -R hive:hive /warehouse\"\n\n\n","user":"allan_admin","dateUpdated":"2022-04-01T05:01:54-0700","config":{"editorSetting":{"language":"sh","editOnDblClick":false,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/sh","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Password: "}]},"apps":[],"jobName":"paragraph_1648810709887_-2122984027","id":"20220302-134654_1341441659","dateCreated":"2022-04-01T03:58:29-0700","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:165"},{"title":"D - Rollback the scratchdir in hive_on_tez","text":"%md\n\nRollback the scratchdir in hive_on_tez\n\n","user":"allan_admin","dateUpdated":"2022-04-01T05:02:49-0700","config":{"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Password: Deleted /temp\n"}]},"apps":[],"jobName":"paragraph_1648810709888_-1596482630","id":"20220302-131808_1268710019","dateCreated":"2022-04-01T03:58:29-0700","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:166"},{"text":"%md\n\nStart hive and hive_on_tez. Then test by creating a database and table.","user":"allan_admin","dateUpdated":"2022-04-01T05:04:00-0700","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"editorMode":"ace/mode/markdown","title":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1648814569548_1536867176","id":"20220401-050249_1161016068","dateCreated":"2022-04-01T05:02:49-0700","status":"READY","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:1218","title":"E - Start hive and hive_on_tez"},{"text":"%angular\n","user":"allan_admin","dateUpdated":"2022-04-01T03:58:29-0700","config":{"editorSetting":{"language":"scala","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/undefined","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1648810709888_848163134","id":"20191113-001039_505978317","dateCreated":"2022-04-01T03:58:29-0700","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:167"}],"name":"cloudhive/create_encrypt_hive","id":"2GZPFTHZ2","noteParams":{},"noteForms":{},"angularObjects":{"md:shared_process":[],"angular:shared_process":[],"sh:shared_process":[],"jdbc:shared_process":[]},"config":{"isZeppelinNotebookCronEnable":false,"looknfeel":"default","personalizedMode":"false"},"info":{}}